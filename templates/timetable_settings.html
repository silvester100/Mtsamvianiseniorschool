<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Timetable Settings</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    body { background: #f0f9ff; }
    .settings-box {
      max-width: 1000px;
      margin: 30px auto;
      padding: 30px;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.05);
    }
    .form-section-title {
      margin-top: 30px;
      color: #0d6efd;
      border-bottom: 1px solid #ccc;
      padding-bottom: 5px;
    }
  </style>
</head>
<body>
<div class="settings-box">
  <h4 class="text-primary text-center mb-4">Timetable Subject Settings</h4>

  <form method="post" action="/save_timetable_settings">
    <div class="row mb-3">
      <div class="col-md-4">
        <label class="form-label">Class</label>
        <select name="class_name" class="form-select" required>
          <option value="" disabled selected>Select Class</option>
          {% for cls in classes %}
          <option value="{{ cls }}">{{ cls }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-4">
        <label class="form-label">Stream</label>
        <select name="stream_name" class="form-select" required>
          <option value="" disabled selected>Select Stream</option>
          {% for stream in streams %}
          <option value="{{ stream }}">{{ stream }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-4">
        <label class="form-label">Subject</label>
        <select name="subject" class="form-select" required>
          <option value="" disabled selected>Select Subject</option>
          {% for subject in subjects %}
          <option value="{{ subject }}">{{ subject }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-4">
        <label class="form-label">Teacher</label>
        <select name="teacher_id" class="form-select" required>
          <option value="" disabled selected>Select Teacher</option>
          {% for teacher in teachers %}
          <option value="{{ teacher.id }}">{{ teacher.full_name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col-md-4">
        <label class="form-label">Lessons per Week</label>
        <input type="number" name="lessons_per_week" min="1" max="15" class="form-control" required>
      </div>
      <div class="col-md-4">
        <label class="form-label">Double Lesson?</label>
        <select name="double_lesson" class="form-select" required>
          <option value="no">No</option>
          <option value="yes">Yes</option>
        </select>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-4">
        <label class="form-label">Preferred Time of Day</label>
        <select name="preferred_time" class="form-select">
          <option value="">No Preference</option>
          <option value="morning">Morning</option>
          <option value="midday">Midday</option>
          <option value="afternoon">Afternoon</option>
        </select>
      </div>
      <div class="col-md-8">
        <label class="form-label">Avoid Clash With Subjects</label>
        <select name="avoid_conflict[]" class="form-select" multiple>
          {% for subject in subjects %}
          <option value="{{ subject }}">{{ subject }}</option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-primary">Save Settings</button>
    </div>
  </form>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
